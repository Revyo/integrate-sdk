---
title: Event listeners
description: Useful for updating your UI in real-time
---

The Integrate SDK emits events when the state of your integrations changes, allowing you to update your UI in real-time.

## Event Listeners

You can listen to state changes using the `client.on` method.

```typescript
import { client } from "integrate-sdk";

// Listen for successful connection
client.on("auth:complete", ({ provider }) => {
  console.log(`${provider} connected!`);
  // Update UI to show connected state
  const button = document.getElementById(`${provider}-btn`);
  if (button) {
    button.textContent = "Disconnect";
    button.classList.add("connected");
  }
});

// Listen for disconnection
client.on("auth:disconnect", ({ provider }) => {
  console.log(`${provider} disconnected`);
  // Update UI to show disconnected state
  const button = document.getElementById(`${provider}-btn`);
  if (button) {
    button.textContent = "Connect";
    button.classList.remove("connected");
  }
});
```

## React Example

For React applications, you can use `useEffect` to subscribe to authentication events and update your component state.

```tsx
import { useState, useEffect } from "react";
import { client } from "./integrate";

export function ConnectButton() {
  const [isConnected, setIsConnected] = useState(false);

  useEffect(() => {
    // 1. Check initial status
    client.isAuthorized("github").then(setIsConnected);

    // 2. Define event handlers
    const handleAuth = ({ provider }) => {
      if (provider === "github") setIsConnected(true);
    };

    const handleDisconnect = ({ provider }) => {
      if (provider === "github") setIsConnected(false);
    };

    // 3. Listen for changes
    client.on("auth:complete", handleAuth);
    client.on("auth:disconnect", handleDisconnect);

    // 4. Cleanup listeners
    return () => {
      client.off("auth:complete", handleAuth);
      client.off("auth:disconnect", handleDisconnect);
    };
  }, []);

  return (
    <button
      onClick={() =>
        isConnected
          ? client.disconnectProvider("github")
          : client.authorize("github")
      }
    >
      {isConnected ? "Disconnect GitHub" : "Connect GitHub"}
    </button>
  );
}
```
